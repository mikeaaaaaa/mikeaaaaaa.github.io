# Redis

动机：以前一直以为redis就是一个存储临时数据的一个东西，最多加上缓存功能，但是细细了解之后，这东西和具体业务场景有着非常大的关系！！！

今天就看到一个视频，问题是 对于**帖子点赞是否有必要使用Redis进行缓存**：按照我之前的想法：肯定要，并且不仅仅要记录用户帖子点赞关系、还要统计帖子的总点赞数；并结合定时任务，使得数据落地存储； 但是问题就来了：对于用户点赞，这实际上是一个非常低频的事件（因为key一般设置为用户ID + 帖子ID）；

## 实际使用

### JWT令牌有必要使用Redis吗？

首先不适用redis，肯定是可以的，我们在jwt中存储一个用户id或用户名+过期时间，对于服务端来说，当检测到jwt时间快到期的时候，主动给客户端续上，也就是更新jwt返回，也是不错的；

但是，`JWT的无状态性`会带来一个非常大的问题：加入一个用户登录100次，那会不会就会产生100个JWT，这100个JWT同时都是能够使用的，假如这个用户是一个会员用户呢？so是有必要的；我问了下GPT，在以下情况下可以使用：

+ Token 黑名单：用户主动登出、管理员禁用用户、Token 泄漏等，需要即时使某些 Token 无效
+ 多设备登录：控制同一时间登录的设备，或支持用户踢掉其他设置
+ 携带更多信息

## 面试

### Redis是多线程还是单线程

